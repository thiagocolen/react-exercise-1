(this["webpackJsonpreact-exercise-1"]=this["webpackJsonpreact-exercise-1"]||[]).push([[0],{82:function(e,t,r){},87:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(17),s=r.n(c),o=r(8),i=(r(82),r(65)),l=r(116),u=r(53),d=r.n(u),j=r(117),b=r(113),h=r(91),m=r(118),x=r(5),f=r.n(x),p=r(11),O=r(24),g=r(66),v=r(57),y=r.n(v),k=r(45),w=function(e){var t=e.replace("--","-").split("-");return y()([t[0],t[1]-1,t[2]]).fromNow()},S=Object(k.b)({name:"mainSlice",initialState:{data:1,authToken:null,usersList:[],selectedUserDetails:null,showSelectedUserDetailsLoader:!1,userActivitiesList:[],showUserActivitiesListLoader:!1,selectedUserProgramName:null,selectedProgramLevelsList:[],backgroundImageUrl:null,programLevelMarks:[],selectedProgramLevel:null},reducers:{increment:function(e){e.data++},getAuth:function(e,t){e.authToken=t.payload.token},getUsers:function(e,t){var r=Object(g.a)(t.payload);r.sort((function(e,t){return t.balance.points-e.balance.points})),e.usersList=r},cleanUserDetailData:function(e){e.showSelectedUserDetailsLoader=!0,e.showUserActivitiesListLoader=!0,e.selectedUserDetails=null,e.userActivitiesList=[],e.selectedUserProgramName=null,e.selectedProgramLevelsList=[]},getUserDetail:function(e,t){var r;e.selectedUserDetails=Object(O.a)(Object(O.a)({},t.payload),{},{balance:Object(O.a)(Object(O.a)({},t.payload.balance),{},{formatedCurrency:(r=t.payload.balance.currency,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r))})})},getUserActivities:function(e,t){e.userActivitiesList=t.payload.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{fomatedDate:w(e.date),icon:(t=e.description,t.split(" ")[0])});var t}))},getProgramName:function(e,t){e.selectedUserProgramName=t.payload.name},getProgramLevels:function(e,t){e.selectedProgramLevelsList=t.payload},getBackgroundImageUrl:function(e,t){e.backgroundImageUrl=t.payload},setProgramLevelMarks:function(e,t){e.programLevelMarks=t.payload},setSelectedProgramLevel:function(e,t){e.selectedProgramLevel=t.payload}}}),L=S.actions,U=S.reducer,C=r(1),P=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.mainReducer.backgroundImageUrl}));Object(n.useEffect)((function(){e((console.log("env.UNSPLASH_ACCESS_KEY",Object({NODE_ENV:"production",PUBLIC_URL:"/react-exercise-1",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).UNSPLASH_ACCESS_KEY),function(){var e=Object(p.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(p.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.unsplash.com/photos/random/?topics=6sMVjTLSkeQ&client_id=7bb44829ebfb671742ab6f123c6581e0eca237754773b58d64940a82c82065f9",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,r();case 4:n=e.sent,t(L.getBackgroundImageUrl(n.urls.regular)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]);var r={backgroundImage:"url("+t+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"fixed",left:"0",right:"0",top:"0",bottom:"0",zIndex:"-1"};return Object(C.jsx)("div",{"data-testid":"bg-image-component",style:r})},A=r(109),R=r(110),T=r(58),D=r.n(T),E=r(59),N=r.n(E),F=r(121),I=r(92),_=r(111),z=r(108),W=Object(z.a)((function(e){return{colorPrimary:{backgroundColor:e.palette.common.white}}})),G=function(){var e=W();return Object(C.jsx)(A.a,{"data-testid":"header-component",position:"fixed",classes:{colorPrimary:e.colorPrimary},children:Object(C.jsxs)(R.a,{children:[Object(C.jsx)(m.a,{mr:2,children:Object(C.jsx)(D.a,{style:{color:N.a[900]},fontSize:"large"})}),Object(C.jsx)(m.a,{flexGrow:8,children:Object(C.jsx)(I.a,{color:"primary",variant:"h5",children:"React Exercise"})}),Object(C.jsx)(m.a,{textAlign:"right",flexGrow:2,mr:2,children:Object(C.jsx)(_.a,{href:"https://www.linkedin.com/in/thiagocolen/",target:"_blank",color:"secondary",variant:"h6",underline:"none",children:"Thiago Colen"})}),Object(C.jsx)(m.a,{flexGrow:0,children:Object(C.jsx)(F.a,{alt:"Thiago Colen",src:"https://media-exp1.licdn.com/dms/image/C4D03AQH8hRQxScoIcA/profile-displayphoto-shrink_200_200/0/1538777195418?e=1635984000&v=beta&t=UfvVtfqbnuwhcmNNAFRCWSdgESD5UHipv8Lng-LTUxk"})})]})})},M=r(114),H=r(119),B=r(112),K=!1,Q=Object(z.a)((function(e){return{smallAvatar:{width:e.spacing(3),height:e.spacing(3)},overFlow:{overflow:"auto",height:383,"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",borderRadius:3},"&::-webkit-scrollbar-thumb":{backgroundColor:"grey",borderRadius:3}}}})),V=function(){var e=Q(),t=Object(o.b)(),r=Object(o.c)((function(e){return e.mainReducer.authToken})),a=Object(o.c)((function(e){return e.mainReducer.usersList}));Object(n.useEffect)((function(){t(function(){var e=Object(p.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(p.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://challenge-fielo.herokuapp.com/auth",{method:"POST",headers:{"x-app-id":"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh7uxHjWd1CyRgPD4XHcIPKiDb"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,r();case 4:n=e.sent,t(L.getAuth(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(n.useEffect)((function(){var e;!1===K&&null!==r&&(K=!0,t((e=r,function(){var t=Object(p.a)(f.a.mark((function t(r){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(p.a)(f.a.mark((function t(){var r,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://challenge-fielo.herokuapp.com/users",{method:"GET",headers:{"x-access-token":e}});case 2:return r=t.sent,t.next=5,r.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,n();case 4:a=t.sent,r(L.getUsers(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())))}),[r,t]);var c=function(e){var n=e.currentTarget.attributes.value.value;t(L.cleanUserDetailData()),t(function(e,t){return function(){var r=Object(p.a)(f.a.mark((function r(n){var a,c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=function(){var r=Object(p.a)(f.a.mark((function r(){var n,a;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://challenge-fielo.herokuapp.com/users/".concat(t),{method:"GET",headers:{"x-access-token":e}});case 2:return n=r.sent,r.next=5,n.json();case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),r.prev=1,r.next=4,a();case 4:c=r.sent,n(L.getUserDetail(c)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}(r,n)),t(function(e,t){return function(){var r=Object(p.a)(f.a.mark((function r(n){var a,c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=function(){var r=Object(p.a)(f.a.mark((function r(){var n,a;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://challenge-fielo.herokuapp.com/users/".concat(t,"/activities"),{method:"GET",headers:{"x-access-token":e}});case 2:return n=r.sent,r.next=5,n.json();case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),r.prev=1,r.next=4,a();case 4:c=r.sent,n(L.getUserActivities(c)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}(r,n))};return Object(C.jsxs)(n.Fragment,{children:[0===a.length&&Object(C.jsx)(m.a,{my:20,textAlign:"center","data-testid":"user-list-component-loading",children:Object(C.jsx)(B.a,{color:"secondary"})}),a.length>0&&Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(m.a,{my:1,mx:2,"data-testid":"user-list-component-loaded",children:Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsx)(b.a,{item:!0,xs:2,children:Object(C.jsx)(I.a,{color:"secondary",variant:"h3",children:"Pos."})}),Object(C.jsx)(b.a,{item:!0,xs:8,children:Object(C.jsx)(I.a,{color:"secondary",variant:"h3",children:"Member"})}),Object(C.jsx)(b.a,{item:!0,xs:2,children:Object(C.jsx)(I.a,{color:"secondary",variant:"h3",children:"Points"})})]})}),Object(C.jsx)(M.a,{className:e.overFlow,component:"nav",children:a&&a.map((function(t,r){return Object(C.jsx)(H.a,{button:!0,value:t.id,onClick:c,children:Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsx)(b.a,{item:!0,xs:2,children:Object(C.jsx)(m.a,{mt:.6,children:Object(C.jsx)(I.a,{color:"primary",variant:"h3",children:r+1})})}),Object(C.jsx)(b.a,{item:!0,xs:2,children:Object(C.jsx)(F.a,{className:e.smallAvatar,alt:"User face",src:t.image})}),Object(C.jsx)(b.a,{item:!0,xs:6,children:Object(C.jsx)(m.a,{mt:.6,children:Object(C.jsx)(I.a,{color:"primary",variant:"h3",children:t.name})})}),Object(C.jsx)(b.a,{item:!0,xs:2,children:Object(C.jsx)(m.a,{mt:.6,children:Object(C.jsx)(I.a,{color:"primary",variant:"h3",children:t.balance.points})})})]})},t.id)}))})]})]})},q=r(115),J=r(120),Y=r(60),X=r.n(Y),Z=r(61),$=r.n(Z),ee=r(52),te=r.n(ee),re=Object(z.a)((function(e){return{box:{height:420},avatar:{width:e.spacing(8),height:e.spacing(8),margin:"auto"},sliderRoot:{width:"100%",marginTop:40},sliderMarkLabel:{top:-24,fontWeight:"bold",fontSize:14},sliderThumb:{color:te.a[900]}}})),ne=function(){var e=re(),t=Object(o.b)(),r=Object(o.c)((function(e){return e.mainReducer.authToken})),a=Object(o.c)((function(e){return e.mainReducer.selectedUserDetails})),c=Object(o.c)((function(e){return e.mainReducer.selectedUserProgramName})),s=Object(o.c)((function(e){return e.mainReducer.selectedProgramLevelsList})),i=Object(o.c)((function(e){return e.mainReducer.programLevelMarks})),l=Object(o.c)((function(e){return e.mainReducer.selectedProgramLevel}));return Object(n.useEffect)((function(){var e,n;a&&(t((e=r,n=a.programId,function(){var t=Object(p.a)(f.a.mark((function t(r){var a,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var t=Object(p.a)(f.a.mark((function t(){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://challenge-fielo.herokuapp.com/programs/".concat(n),{method:"GET",headers:{"x-access-token":e}});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,a();case 4:c=t.sent,r(L.getProgramName(c)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())),t(function(e,t){return function(){var r=Object(p.a)(f.a.mark((function r(n){var a,c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=function(){var r=Object(p.a)(f.a.mark((function r(){var n,a;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://challenge-fielo.herokuapp.com/programs/".concat(t,"/levels"),{method:"GET",headers:{"x-access-token":e}});case 2:return n=r.sent,r.next=5,n.json();case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),r.prev=1,r.next=4,a();case 4:c=r.sent,n(L.getProgramLevels(c)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}(r,a.programId)))}),[r,a,t]),Object(n.useEffect)((function(){if(s.length>0){var e=s.map((function(e){return{value:e.order,label:e.name}}));t(L.setProgramLevelMarks(e))}}),[s,t]),Object(n.useEffect)((function(){if(i.length>0){var e=s.find((function(e){return e.id===a.levelId}));t(L.setSelectedProgramLevel(e))}}),[i,s,a,t]),Object(C.jsxs)(n.Fragment,{children:[!a&&Object(C.jsx)(m.a,{my:20,textAlign:"center","data-testid":"user-details-component-loading",children:Object(C.jsx)(B.a,{color:"secondary"})}),a&&Object(C.jsxs)(m.a,{p:.5,className:e.box,"data-testid":"user-details-component-loaded",children:[Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsx)(b.a,{item:!0,xs:12,children:Object(C.jsx)(m.a,{mt:2,children:Object(C.jsx)(F.a,{className:e.avatar,alt:"User face",src:a.image})})}),Object(C.jsx)(b.a,{container:!0,children:Object(C.jsxs)(b.a,{item:!0,xs:12,children:[Object(C.jsx)(m.a,{mt:3,mb:1,mx:3,children:Object(C.jsx)(I.a,{color:"primary",variant:"h1",children:a.name})}),Object(C.jsx)(m.a,{mb:3,mx:3,children:Object(C.jsx)(I.a,{color:"secondary",variant:"h4",children:c})})]})})]}),Object(C.jsx)(q.a,{}),Object(C.jsx)(m.a,{mx:1,my:3,textAlign:"center",children:Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsxs)(b.a,{item:!0,xs:4,className:e.textCenter,children:[Object(C.jsx)(m.a,{mb:1,children:Object(C.jsxs)(I.a,{color:"primary",variant:"h2",children:[Object(C.jsx)(X.a,{style:{color:te.a[800],fontSize:17,marginRight:3,marginBottom:-3}}),a.balance.points]})}),Object(C.jsx)(I.a,{color:"secondary",variant:"h4",mt:2,children:"Points"})]}),Object(C.jsxs)(b.a,{item:!0,xs:4,className:e.textCenter,children:[Object(C.jsx)(m.a,{mb:1,children:Object(C.jsx)(I.a,{color:"primary",variant:"h2",children:a.balance.miles})}),Object(C.jsx)(I.a,{color:"secondary",variant:"h4",children:"Miles"})]}),Object(C.jsxs)(b.a,{item:!0,xs:4,className:e.textCenter,children:[Object(C.jsx)(m.a,{mb:1,children:Object(C.jsx)(I.a,{color:"primary",variant:"h2",children:a.balance.formatedCurrency})}),Object(C.jsx)(I.a,{color:"secondary",variant:"h4",children:"Currency"})]})]})}),Object(C.jsx)(q.a,{}),Object(C.jsx)(b.a,{container:!0,children:Object(C.jsx)(b.a,{item:!0,xs:12,children:l&&Object(C.jsx)(m.a,{mx:4,children:Object(C.jsx)(J.a,{classes:{root:e.sliderRoot,markLabel:e.sliderMarkLabel,thumb:e.sliderThumb},"aria-labelledby":"discrete-slider-custom",disabled:!0,marks:i,step:1,min:1,max:i.length,defaultValue:l.order})})})}),Object(C.jsx)(q.a,{}),Object(C.jsx)(m.a,{textAlign:"center",my:3,children:Object(C.jsx)($.a,{color:"secondary"})})]})]})},ae=r(62),ce=r.n(ae),se=r(63),oe=r.n(se),ie=r(64),le=r.n(ie),ue=Object(z.a)((function(e){return{root:{overflow:"auto",height:393,"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"grey",borderRadius:"3px"}},blueColor:{fill:e.palette.info.dark},greenColor:{fill:e.palette.success.dark},yellowColor:{fill:e.palette.warning.dark}}})),de=function(){var e=Object(o.c)((function(e){return e.mainReducer.userActivitiesList})),t=ue();return Object(C.jsxs)(n.Fragment,{children:[0===e.length&&Object(C.jsx)(m.a,{my:20,textAlign:"center",children:Object(C.jsx)(B.a,{color:"secondary"})}),e.length>0&&Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(m.a,{m:1,children:Object(C.jsx)(I.a,{variant:"h2",children:"Activitie's Feed"})}),Object(C.jsx)(m.a,{className:t.root,children:Object(C.jsx)(M.a,{component:"nav",children:e.length>0&&e.map((function(e){return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(H.a,{children:Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsxs)(b.a,{item:!0,xs:2,children:["Received"===e.icon&&Object(C.jsx)(ce.a,{fontSize:"small",classes:{root:t.blueColor}}),"Completed"===e.icon&&Object(C.jsx)(oe.a,{fontSize:"small",classes:{root:t.greenColor}}),"Redeemed"===e.icon&&Object(C.jsx)(le.a,{fontSize:"small",classes:{root:t.yellowColor}})]}),Object(C.jsxs)(b.a,{item:!0,xs:10,children:[Object(C.jsx)(m.a,{children:Object(C.jsx)(I.a,{variant:"h4",color:"secondary",children:e.fomatedDate})}),Object(C.jsx)(m.a,{children:Object(C.jsx)(I.a,{variant:"body1",children:e.description})})]})]})}),Object(C.jsx)(q.a,{})]},e.id)}))})})]})]})},je=Object(i.a)({palette:{primary:{main:d.a[900]},secondary:{main:d.a[500]}},typography:{fontFamily:["Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),h1:{fontSize:20,fontWeight:"bolder"},h2:{fontSize:16,fontWeight:"bold"},h3:{fontSize:12,fontWeight:"bold"},h4:{fontSize:12,fontWeight:"bold"},h5:{fontSize:16,fontWeight:"bolder"},h6:{fontSize:11,fontWeight:"bold"},body1:{fontSize:12,fontWeight:"normal"},body2:{fontSize:10,fontWeight:"bold"}}});var be=function(){var e=Object(o.c)((function(e){return e.mainReducer.showSelectedUserDetailsLoader})),t=Object(o.c)((function(e){return e.mainReducer.showUserActivitiesListLoader}));return Object(C.jsxs)(l.a,{theme:je,children:[Object(C.jsx)(P,{}),Object(C.jsx)(G,{}),Object(C.jsx)(m.a,{mt:15,mb:20,children:Object(C.jsx)(j.a,{maxWidth:"md",children:Object(C.jsxs)(b.a,{container:!0,spacing:3,children:[Object(C.jsx)(b.a,{item:!0,xs:12,md:4,children:Object(C.jsx)(h.a,{children:Object(C.jsx)(m.a,{p:1,children:Object(C.jsx)(V,{})})})}),Object(C.jsx)(b.a,{item:!0,xs:12,md:4,children:e&&Object(C.jsx)(h.a,{children:Object(C.jsx)(m.a,{p:1,children:Object(C.jsx)(ne,{})})})}),Object(C.jsx)(b.a,{item:!0,xs:12,md:4,children:t&&Object(C.jsx)(h.a,{children:Object(C.jsx)(m.a,{p:1,children:Object(C.jsx)(de,{})})})})]})})})]})},he=Object(k.a)({reducer:{mainReducer:U}}),me=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,123)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(o.a,{store:he,children:Object(C.jsx)(be,{})})}),document.getElementById("root")),me()}},[[87,1,2]]]);
//# sourceMappingURL=main.f6d8b84f.chunk.js.map